{% extends 'base.html' %} {% block title %}Cadence{% endblock %} {% block head%}
<script src="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js"></script>
<link
  href="https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css"
  rel="stylesheet"
/>
<link rel="stylesheet" href="/static/css/styles.css" />
{% endblock %} {% block body %}
<div class="loaded-route" hidden data-route="{{ route }}"></div>
<div class="loaded-waypoints" hidden data-waypoints="{{ waypoints }}"></div>
<div class="mainpage-wrapper">
  <div class="map-container">
    <div id="map"></div>
  </div>
  <div class="data-container">
    <div class="elevation-wrapper">
      <canvas id="myChart"></canvas>
    </div>
    <div class="buttons-wrapper">
      <h1 id="total-distance">Distance:</h1>
      <span id="distance-unit">km</span>
      <button class="clear-route rounded-btn">Clear Route</button>
      <button class="toggle-distance rounded-btn">Toggle km/mi</button>
      {% if user == None %}
      <p>Hello, log in to save and generate routes!</p>
      {% else %}
      <p>Hello {{user.first_name}}</p>
      <form id="save-route-form">
        <label for="title">
          Title:
          <input
            type="text"
            name="title"
            id="route-title"
            value="First Saved Route"
          />
        </label>
        <button type="submit" class="save-route rounded-btn">Save Route</button>
      </form>
      {% endif %}
    </div>
    <div class="options-wrapper">
      <form id="options-form">
        <h2>Select run goals</h2>
        <label for="target-pace">
          Target Pace (min/km):
          <input
            type="number"
            id="target-pace"
            name="target-pace"
            min="1"
            step="0.01"
            placeholder="e.g., 5.0"
            required
          />
        </label>

        <h2>Select up to 5 Genres:</h2>
        <div class="form-genres-wrapper">
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="acoustic" />
            <span class="form-label" for="genre">Acoustic</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="afrobeat" />
            <span class="form-label" for="genre">Afrobeat</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="alt-rock" />
            <span class="form-label" for="genre">Alt-Rock</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="alternative" />
            <span class="form-label" for="genre">Alternative</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="ambient" />
            <span class="form-label" for="genre">Ambient</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="anime" />
            <span class="form-label" for="genre">Anime</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="black-metal" />
            <span class="form-label" for="genre">Black Metal</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="bluegrass" />
            <span class="form-label" for="genre">Bluegrass</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="blues" />
            <span class="form-label" for="genre">Blues</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="bossanova" />
            <span class="form-label" for="genre">Bossanova</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="brazil" />
            <span class="form-label" for="genre">Brazil</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="trance" />
            <span class="form-label" for="genre">Trance</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="breakbeat" />
            <span class="form-label" for="genre">Breakbeat</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="british" />
            <span class="form-label" for="genre">British</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="cantopop" />
            <span class="form-label" for="genre">Cantopop</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="chicago-house" />
            <span class="form-label" for="genre">Chicago House</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="children" />
            <span class="form-label" for="genre">Children</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="chill" />
            <span class="form-label" for="genre">Chill</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="classical" />
            <span class="form-label" for="genre">Classical</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="club" />
            <span class="form-label" for="genre">Club</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="comedy" />
            <span class="form-label" for="genre">Comedy</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="country" />
            <span class="form-label" for="genre">Country</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="dance" />
            <span class="form-label" for="genre">Dance</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="dancehall" />
            <span class="form-label" for="genre">Dancehall</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="death-metal" />
            <span class="form-label" for="genre">Death Metal</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="deep-house" />
            <span class="form-label" for="genre">Deep House</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="detroit-techno" />
            <span class="form-label" for="genre">Detroit Techno</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="disco" />
            <span class="form-label" for="genre">Disco</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="disney" />
            <span class="form-label" for="genre">Disney</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="drum-and-bass" />
            <span class="form-label" for="genre">Drum and Bass</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="dub" />
            <span class="form-label" for="genre">Dub</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="dubstep" />
            <span class="form-label" for="genre">Dubstep</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="edm" />
            <span class="form-label" for="genre">EDM</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="electro" />
            <span class="form-label" for="genre">Electro</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="electronic" />
            <span class="form-label" for="genre">Electronic</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="emo" />
            <span class="form-label" for="genre">Emo</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="folk" />
            <span class="form-label" for="genre">Folk</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="forro" />
            <span class="form-label" for="genre">Forro</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="french" />
            <span class="form-label" for="genre">French</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="funk" />
            <span class="form-label" for="genre">Funk</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="garage" />
            <span class="form-label" for="genre">Garage</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="german" />
            <span class="form-label" for="genre">German</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="gospel" />
            <span class="form-label" for="genre">Gospel</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="goth" />
            <span class="form-label" for="genre">Goth</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="grindcore" />
            <span class="form-label" for="genre">Grindcore</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="groove" />
            <span class="form-label" for="genre">Groove</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="grunge" />
            <span class="form-label" for="genre">Grunge</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="guitar" />
            <span class="form-label" for="genre">Guitar</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="happy" />
            <span class="form-label" for="genre">Happy</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="hard-tonk" />
            <span class="form-label" for="genre">Hard Tonk</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="house" />
            <span class="form-label" for="genre">House</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="idm" />
            <span class="form-label" for="genre">IDM</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="indian" />
            <span class="form-label" for="genre">Indian</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="indie" />
            <span class="form-label" for="genre">Indie</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="indie-pop" />
            <span class="form-label" for="genre">Indie Pop</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="industrial" />
            <span class="form-label" for="genre">Industrial</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="iranian" />
            <span class="form-label" for="genre">Iranian</span>
          </label>
          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="j-dance" />
            <span class="form-label" for="genre">J-dance</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="trip-hop" />
            <span class="form-label" for="genre">Trip-Hop</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="turkish" />
            <span class="form-label" for="genre">Turkish</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="work-out" />
            <span class="form-label" for="genre">Workout</span>
          </label>

          <label class="checkbox-field">
            <input type="checkbox" name="genre" value="world-music" />
            <span class="form-label" for="genre">World Music</span>
          </label>
        </div>
        <button type="submit" class="rounded-btn">Generate Playlist</button>
      </form>
    </div>
    <div class="playlist-wrapper">
      <div class="playlist-container"></div>
      <button class="export-playlist rounded-btn">Export</button>
    </div>
  </div>
</div>
<script>
  const accessToken = "{{ access_token }}";
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module" src="/static/js/map.js" async defer></script>
<script type="module" src="/static/js/elevation.js" async defer></script>
<script type="module" src="/static/js/main.js" async defer></script>
{% endblock %}
